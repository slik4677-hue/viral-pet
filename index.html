<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Viral Pet</title>
    <style>
        /* --- –ù–ê–°–¢–†–û–ô–ö–ò –≠–ö–†–ê–ù–ê (–ß–¢–û–ë–´ –ù–ï –î–ï–†–ì–ê–õ–°–Ø) --- */
        body {
            background-color: #000;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            overflow: hidden; /* –ù–µ—Ç —Å–∫—Ä–æ–ª–ª–∞ */
            touch-action: none; /* –û–¢–ö–õ–Æ–ß–ê–ï–ú –í–°–ï –ñ–ï–°–¢–´ –ë–†–ê–£–ó–ï–†–ê */
            user-select: none; /* –ù–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ */
            -webkit-user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- –°–ß–ï–¢–ß–ò–ö --- */
        .score-container {
            text-align: center;
            margin-bottom: 20px;
            z-index: 10;
        }
        #score {
            font-size: 64px;
            font-weight: 800;
            background: linear-gradient(to right, #ff8a00, #e52e71);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-family: monospace;
        }
        #rank {
            color: #888;
            font-size: 18px;
            margin-top: 5px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        /* --- –ü–ï–†–°–û–ù–ê–ñ --- */
        .pet-wrapper {
            position: relative;
            width: 250px;
            height: 250px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .pet {
            font-size: 140px;
            cursor: pointer;
            filter: drop-shadow(0 0 30px rgba(229, 46, 113, 0.4));
            animation: breathe 3s infinite ease-in-out;
            transition: transform 0.05s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            /* –í–∞–∂–Ω–æ –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è */
            pointer-events: auto;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥—ã—Ö–∞–Ω–∏—è (–ø–æ–∫–æ—è) */
        @keyframes breathe {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* –ö–ª–∞—Å—Å –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∫–ª–∏–∫–∞ (—É–¥–∞—Ä) */
        .pet.clicked {
            transform: scale(0.9) !important;
        }

        /* --- –í–´–õ–ï–¢–ê–Æ–©–ò–ï –¶–ò–§–†–´ --- */
        .particle {
            position: absolute;
            color: white;
            font-weight: bold;
            font-size: 28px;
            pointer-events: none; /* –°–∫–≤–æ–∑—å –Ω–∏—Ö –º–æ–∂–Ω–æ –∫–ª–∏–∫–∞—Ç—å */
            animation: floatUp 0.8s ease-out forwards;
            text-shadow: 0 0 5px rgba(255,255,255,0.5);
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-120px) scale(1.5); opacity: 0; }
        }

        /* --- –ü–†–û–ì–†–ï–°–° –ë–ê–† --- */
        .progress-container {
            width: 80%;
            max-width: 300px;
            height: 12px;
            background: #333;
            border-radius: 20px;
            margin-top: 50px;
            overflow: hidden;
            border: 2px solid #444;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }

        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #ff8a00, #e52e71);
            transition: width 0.2s ease-out;
            border-radius: 20px;
        }

        p.hint {
            color: #555;
            font-size: 12px;
            margin-top: 10px;
            opacity: 0.7;
        }
    </style>
</head>
<body>

    <div class="score-container">
        <div id="score">0</div>
        <div id="rank">Level 1: Egg</div>
    </div>

    <div class="pet-wrapper" id="click-area">
        <div class="pet" id="pet">ü•ö</div>
    </div>

    <div class="progress-container">
        <div class="progress-fill" id="progress"></div>
    </div>

    <p class="hint">TAP FAST!</p>

    <script>
        // --- –õ–û–ì–ò–ö–ê –ò–ì–†–´ ---
        let score = 0;
        let currentLevel = 1;

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Ä–æ–≤–Ω–µ–π (–°–∫–æ–ª—å–∫–æ –∫–ª–∏–∫–æ–≤ –Ω—É–∂–Ω–æ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ)
        const levels = [
            { limit: 10,  char: "ü•ö", name: "Egg" },
            { limit: 50,  char: "üê£", name: "Baby Dino" },
            { limit: 150, char: "ü¶ñ", name: "Raptor" },
            { limit: 500, char: "üê≤", name: "GODZILLA" }
        ];

        const pet = document.getElementById('pet');
        const clickArea = document.getElementById('click-area');
        const scoreEl = document.getElementById('score');
        const rankEl = document.getElementById('rank');
        const progressEl = document.getElementById('progress');

        // –ì–õ–ê–í–ù–´–ô –û–ë–†–ê–ë–û–¢–ß–ò–ö (–†–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ –Ω–∞ –º–æ–±–∏–ª–∫–∞—Ö)
        clickArea.addEventListener('pointerdown', function(e) {
            // –ë–ª–æ–∫–∏—Ä—É–µ–º –ª—é–±—ã–µ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
            e.preventDefault();

            // –ó–∞–ø—É—Å–∫–∞–µ–º –∫–ª–∏–∫
            handleClick(e);
        });

        function handleClick(e) {
            score++;
            scoreEl.innerText = score;

            // 1. –ê–Ω–∏–º–∞—Ü–∏—è –Ω–∞–∂–∞—Ç–∏—è (CSS –∫–ª–∞—Å—Å)
            pet.classList.add('clicked');
            setTimeout(() => pet.classList.remove('clicked'), 50);

            // 2. –í–∏–±—Ä–∞—Ü–∏—è (–¢–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ—Ç–¥–∞—á–∞)
            if (navigator.vibrate) navigator.vibrate(10);

            // 3. –í—ã–ª–µ—Ç–∞—é—â–∞—è —Ü–∏—Ñ—Ä–∞ (+1)
            spawnParticle(e.clientX, e.clientY);

            // 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è
            checkProgress();
        }

        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∫—Ä–∞—Å–∏–≤—ã—Ö —Ü–∏—Ñ–µ—Ä–æ–∫ +1
        function spawnParticle(x, y) {
            const particle = document.createElement('div');
            particle.classList.add('particle');
            particle.innerText = '+' + 1; // –ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å, –µ—Å–ª–∏ –¥–∞–µ—à—å –±–æ–ª—å—à–µ –æ—á–∫–æ–≤

            // –ù–µ–º–Ω–æ–≥–æ —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏, —á—Ç–æ–±—ã —Ü–∏—Ñ—Ä—ã –ª–µ—Ç–µ–ª–∏ –≤ —Ä–∞–∑–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã
            const offsetX = (Math.random() - 0.5) * 40;

            particle.style.left = (x + offsetX) + 'px';
            particle.style.top = y + 'px';

            document.body.appendChild(particle);

            // –£–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            setTimeout(() => particle.remove(), 800);
        }

        function checkProgress() {
            // –ë–µ—Ä–µ–º —Ç–µ–∫—É—â—É—é —Ü–µ–ª—å
            let target = levels[currentLevel] ? levels[currentLevel].limit : 1000000;
            let prevTarget = levels[currentLevel-1] ? levels[currentLevel-1].limit : 0;

            // –†–∞—Å—á–µ—Ç –ø–æ–ª–æ—Å–∫–∏ (–º–∞—Ç–µ–º–∞—Ç–∏–∫–∞, —á—Ç–æ–±—ã –æ–Ω–∞ –ø–ª–∞–≤–Ω–æ —Ä–æ—Å–ª–∞)
            let range = target - prevTarget;
            let currentProgress = score - prevTarget;
            let percent = (currentProgress / range) * 100;

            if (percent > 100) percent = 100;
            progressEl.style.width = percent + "%";

            // –≠–í–û–õ–Æ–¶–ò–Ø!
            if (score >= target && levels[currentLevel]) {
                evolve(levels[currentLevel]);
                currentLevel++;
            }
        }

        function evolve(nextStage) {
            // –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è
            pet.style.transform = "scale(0) rotate(360deg)"; // –ò—Å—á–µ–∑–∞–µ—Ç

            setTimeout(() => {
                pet.innerText = nextStage.char; // –ú–µ–Ω—è–µ–º —Å–∫–∏–Ω
                rankEl.innerText = "Level " + (currentLevel + 1) + ": " + nextStage.name;
                pet.style.transform = "scale(1.2) rotate(0deg)"; // –ü–æ—è–≤–ª—è–µ—Ç—Å—è –∫—Ä–∞—Å–∏–≤–æ

                // –°–∏–ª—å–Ω–∞—è –≤–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ —É—Å–ø–µ—Ö–µ
                if (navigator.vibrate) navigator.vibrate([50, 50, 50]);

                setTimeout(() => pet.style.transform = "scale(1)", 200);
            }, 200);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        rankEl.innerText = "Level 1: " + levels[0].name;
    </script>
</body>
</html>