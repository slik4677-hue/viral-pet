<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ONLYBROKERS EMPIRE</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Inter:wght@300;600;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #FFD700;
            --gold-gradient: linear-gradient(135deg, #FFD700 0%, #FDB931 100%);
            --dark: #050505;
            --glass: rgba(255, 255, 255, 0.05);
            --border: rgba(255, 255, 255, 0.1);
            --green: #2ecc71;
            --neon-blue: #0088cc; /* Telegram Color */
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; user-select: none; touch-action: manipulation; }

        body {
            background-color: var(--dark);
            color: #fff;
            font-family: 'Inter', sans-serif;
            margin: 0; height: 100vh; overflow: hidden;
            display: flex; flex-direction: column;
            padding-top: env(safe-area-inset-top);
            padding-bottom: env(safe-area-inset-bottom);
        }

        /* –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ò–ô –§–û–ù */
        .bg-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at center, #1a1a1a 0%, #000 100%);
            z-index: -2; transition: all 1s;
        }
        /* –°–µ—Ç–∫–∞ –¥–ª—è —Å—Ç–∏–ª—è "–ú–∞—Ç—Ä–∏—Ü–∞/–ë–ª–æ–∫—á–µ–π–Ω" */
        .grid-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-image: linear-gradient(rgba(255, 215, 0, 0.03) 1px, transparent 1px),
            linear-gradient(90deg, rgba(255, 215, 0, 0.03) 1px, transparent 1px);
            background-size: 50px 50px; z-index: -1;
        }

        /* –•–ï–î–ï–† (–ë–ê–õ–ê–ù–°) */
        .header {
            padding: 20px; text-align: center; z-index: 10;
            background: linear-gradient(180deg, rgba(0,0,0,0.9) 0%, transparent 100%);
        }
        .net-worth-label { font-size: 10px; text-transform: uppercase; letter-spacing: 3px; color: #888; margin-bottom: 5px; }
        #balance {
            font-family: 'Cinzel', serif; font-size: 42px;
            background: var(--gold-gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.2);
        }
        .passive-income { font-size: 12px; color: var(--green); margin-top: 5px; font-weight: 600; }

        /* –ì–õ–ê–í–ù–ê–Ø –°–¶–ï–ù–ê (–ü–ï–†–°–û–ù–ê–ñ) */
        .main-stage {
            flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center;
            position: relative; z-index: 5;
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∞ –≥–µ—Ä–æ—è (–°—Ç–µ–∫–ª–æ–º–æ—Ä—Ñ–∏–∑–º) */
        .hero-card {
            width: 300px; height: 380px;
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            border-radius: 20px;
            display: flex; flex-direction: column; align-items: center; justify-content: space-between;
            padding: 20px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            transition: transform 0.1s, box-shadow 0.3s;
            position: relative; overflow: hidden;
        }

        .hero-card:active { transform: scale(0.98); box-shadow: 0 10px 20px rgba(0,0,0,0.5); }

        /* –ò–∫–æ–Ω–∫–∞ —É—Ä–æ–≤–Ω—è (–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è) */
        .level-icon { font-size: 100px; margin-top: 30px; filter: drop-shadow(0 0 20px rgba(255,255,255,0.2)); transition: 0.3s; }

        .level-info { text-align: center; width: 100%; }
        .level-name { font-family: 'Cinzel', serif; font-size: 24px; color: #fff; margin-bottom: 5px; }
        .tap-power { font-size: 12px; color: #aaa; letter-spacing: 1px; }

        /* –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ */
        .progress-container { width: 100%; margin-top: 15px; }
        .progress-bar { height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--gold-gradient); width: 0%; transition: width 0.3s; box-shadow: 0 0 10px var(--gold); }
        .next-level-text { font-size: 10px; color: #666; margin-top: 5px; display: flex; justify-content: space-between; }

        /* –ó–æ–Ω–∞ –∫–ª–∏–∫–∞ (–ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è) */
        .click-trigger { position: absolute; top:0; left:0; width:100%; height:100%; z-index: 100; cursor: pointer; }

        /* –ü–ê–ù–ï–õ–¨ –ê–ö–¢–ò–í–û–í (–ü–ê–°–°–ò–í–ù–´–ô –î–û–•–û–î) */
        .assets-panel {
            height: 220px; background: #111; border-top: 1px solid #333;
            padding: 15px; display: flex; flex-direction: column;
            z-index: 20; box-shadow: 0 -10px 30px rgba(0,0,0,0.5);
        }
        .panel-title { font-size: 12px; color: #888; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px; }

        .assets-list {
            display: flex; gap: 12px; overflow-x: auto; padding-bottom: 10px; scrollbar-width: none;
        }
        .assets-list::-webkit-scrollbar { display: none; }

        /* –ö–∞—Ä—Ç–æ—á–∫–∞ –∞–∫—Ç–∏–≤–∞ */
        .asset-card {
            min-width: 130px; height: 140px;
            background: #1a1a1a; border: 1px solid #333; border-radius: 12px;
            padding: 12px; display: flex; flex-direction: column; justify-content: space-between;
            transition: 0.2s; position: relative;
        }
        .asset-card.locked { opacity: 0.5; filter: grayscale(1); }
        .asset-card.can-buy { border-color: var(--green); cursor: pointer; background: linear-gradient(180deg, #1a1a1a 0%, #0d2613 100%); }
        .asset-card:active { transform: scale(0.95); }

        .asset-icon { font-size: 24px; }
        .asset-name { font-size: 12px; font-weight: 700; margin-top: 5px; color: #fff; }
        .asset-profit { font-size: 10px; color: var(--green); }
        .asset-cost { font-size: 12px; font-weight: 700; color: var(--gold); margin-top: auto; }
        .asset-count {
            position: absolute; top: 5px; right: 5px;
            background: #333; font-size: 10px; padding: 2px 6px; border-radius: 4px; color: #fff;
        }

        /* –°–ü–ï–¶–≠–§–§–ï–ö–¢–´ */
        .float-text {
            position: absolute; font-weight: 900; font-size: 28px; color: #fff;
            pointer-events: none; z-index: 200; animation: floatUp 0.8s forwards;
            text-shadow: 0 0 10px rgba(0,0,0,0.5);
        }
        @keyframes floatUp { to { transform: translateY(-100px); opacity: 0; } }

    </style>
</head>
<body>

    <div class="bg-layer" id="bgLayer"></div>
    <div class="grid-layer"></div>

    <div class="header">
        <div class="net-worth-label">Total Net Worth</div>
        <div id="balance">$0</div>
        <div class="passive-income" id="passiveDisplay">+$0 / sec</div>
    </div>

    <div class="main-stage">
        <div class="hero-card" id="heroCard">
            <div class="level-icon" id="heroIcon">üì¶</div>

            <div class="level-info">
                <div class="level-name" id="levelName">Homeless</div>
                <div class="tap-power" id="tapPower">Tap Power: $1</div>
            </div>

            <div class="progress-container">
                <div class="progress-bar"><div class="progress-fill" id="progFill"></div></div>
                <div class="next-level-text">
                    <span id="nextLevelName">Next: Intern</span>
                    <span id="nextLevelCost">$500</span>
                </div>
            </div>

            <div class="click-trigger" id="clickBtn"></div>
        </div>
    </div>

    <div class="assets-panel">
        <div class="panel-title">Investments & Assets (Passive Income)</div>
        <div class="assets-list" id="assetsContainer">
            </div>
    </div>

    <script>
        // --- –î–ê–ù–ù–´–ï –ò–ì–†–´ ---
        let game = {
            balance: 0,
            level: 0,
            assets: [0, 0, 0, 0, 0] // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö –∞—Å—Å–µ—Ç–æ–≤
        };

        // --- –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø ---
        // –£—Ä–æ–≤–Ω–∏ –≥–µ—Ä–æ—è (–æ—Ç –ë–æ–º–∂–∞ –¥–æ –í–ª–∞–¥–µ–ª—å—Ü–∞ –ú–∏—Ä–∞)
        const LEVELS = [
            { name: "Broke", cost: 0, icon: "üì¶", tap: 1, bg: "#1a1a1a" },
            { name: "Intern", cost: 500, icon: "üßπ", tap: 5, bg: "#2c3e50" },
            { name: "Freelancer", cost: 2500, icon: "üíª", tap: 15, bg: "#27ae60" },
            { name: "Broker", cost: 10000, icon: "üëî", tap: 50, bg: "#8e44ad" },
            { name: "CEO", cost: 100000, icon: "üöó", tap: 200, bg: "#c0392b" },
            { name: "Tycoon", cost: 1000000, icon: "üöÅ", tap: 1000, bg: "#f39c12" },
            { name: "Illuminati", cost: 50000000, icon: "üëÅÔ∏è", tap: 10000, bg: "#000" }
        ];

        // –ê–∫—Ç–∏–≤—ã (–ü–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥) - –°–í–Ø–ó–¨ –° –¢–ï–õ–ï–ì–†–ê–ú
        const ASSETS = [
            { name: "Online Course", cost: 1000, earn: 5, icon: "üìö" },
            { name: "Real Estate", cost: 5000, earn: 30, icon: "üè†" },
            { name: "Telegram Channel", cost: 20000, earn: 150, icon: "üì¢" }, // –ü—Ä–æ–ø–∞–≥–∞–Ω–¥–∞ –¢–ì
            { name: "TON Validator", cost: 100000, earn: 800, icon: "üíé" }, // –ü—Ä–æ–ø–∞–≥–∞–Ω–¥–∞ –ö—Ä–∏–ø—Ç—ã
            { name: "OnlyBrokers Franchise", cost: 1000000, earn: 5000, icon: "üè¢" }
        ];

        // UI –°–°–´–õ–ö–ò
        const balEl = document.getElementById('balance');
        const passEl = document.getElementById('passiveDisplay');
        const iconEl = document.getElementById('heroIcon');
        const nameEl = document.getElementById('levelName');
        const powEl = document.getElementById('tapPower');
        const nextNameEl = document.getElementById('nextLevelName');
        const nextCostEl = document.getElementById('nextLevelCost');
        const progFill = document.getElementById('progFill');
        const clickBtn = document.getElementById('clickBtn');
        const heroCard = document.getElementById('heroCard');
        const bgLayer = document.getElementById('bgLayer');
        const assetsCont = document.getElementById('assetsContainer');

        // –ó–ê–ì–†–£–ó–ö–ê
        loadGame();
        renderAssets();
        updateUI();

        // --- –ê–í–¢–û-–î–û–•–û–î (LOOP) ---
        setInterval(() => {
            let passive = calcPassive();
            if (passive > 0) {
                game.balance += passive;
                updateUI();
                saveGame();
            }
        }, 1000);

        // --- –ö–õ–ò–ö–ï–† ---
        clickBtn.addEventListener('pointerdown', (e) => {
            e.preventDefault(); // –ê–Ω—Ç–∏-–∑—É–º

            // –í–∏–∑—É–∞–ª
            heroCard.style.transform = "scale(0.97)";
            setTimeout(() => heroCard.style.transform = "scale(1)", 100);
            if(navigator.vibrate) navigator.vibrate(15);

            // –õ–æ–≥–∏–∫–∞
            let gain = LEVELS[game.level].tap;
            game.balance += gain;

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è
            checkLevelUp();

            updateUI();

            // –í—ã–ª–µ—Ç–∞—é—â–∏–π —Ç–µ–∫—Å—Ç
            let x = e.clientX || window.innerWidth/2;
            let y = e.clientY || window.innerHeight/2;
            spawnFloat(x, y, gain);
        });

        function checkLevelUp() {
            let nextLvl = LEVELS[game.level + 1];
            if (nextLvl && game.balance >= nextLvl.cost) {
                game.balance -= nextLvl.cost;
                game.level++;
                if(navigator.vibrate) navigator.vibrate([50,50,50]); // –í–∏–±—Ä–∞—Ü–∏—è —É—Å–ø–µ—Ö–∞
                // –°–º–µ–Ω–∞ —Ñ–æ–Ω–∞
                bgLayer.style.background = radial-gradient(circle at center, ${LEVELS[game.level].bg} 0%, #000 100%);
                saveGame();
            }
        }

        // --- –ü–û–ö–£–ü–ö–ê –ê–ö–¢–ò–í–û–í ---
        window.buyAsset = function(index) {
            let asset = ASSETS[index];
            // –¶–µ–Ω–∞ —Ä–∞—Å—Ç–µ—Ç —Å –∫–∞–∂–¥–æ–π –ø–æ–∫—É–ø–∫–æ–π (–∫–æ—ç—Ñ 1.2)
            let price = Math.floor(asset.cost * Math.pow(1.15, game.assets[index]));

            if (game.balance >= price) {
                game.balance -= price;
                game.assets[index]++;
                if(navigator.vibrate) navigator.vibrate(20);
                saveGame();
                updateUI();
                renderAssets(); // –ü–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å —Ü–µ–Ω—ã
            }
        }

        // --- –†–ï–ù–î–ï–† UI ---
        function updateUI() {
            balEl.innerText = "$" + game.balance.toLocaleString();

            let curLvl = LEVELS[game.level];
            let nextLvl = LEVELS[game.level + 1];

            iconEl.innerText = curLvl.icon;
            nameEl.innerText = curLvl.name;
            powEl.innerText = "Active Income: $" + curLvl.tap + "/click";
            passEl.innerText = "Passive Income: +$" + calcPassive().toLocaleString() + "/sec";

            // –ü—Ä–æ–≥—Ä–µ—Å—Å –±–∞—Ä
            if (nextLvl) {
                let percent = (game.balance / nextLvl.cost) * 100;
                if (percent > 100) percent = 100;
                progFill.style.width = percent + "%";
                nextNameEl.innerText = "Next: " + nextLvl.name;
                nextCostEl.innerText = "Need: $" + nextLvl.cost.toLocaleString();
            } else {
                progFill.style.width = "100%";
                nextNameEl.innerText = "WORLD DOMINATION";
                nextCostEl.innerText = "";
            }

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫–Ω–æ–ø–æ–∫ –∞–∫—Ç–∏–≤–æ–≤
            updateAssetsState();
        }

        function renderAssets() {
            assetsCont.innerHTML = "";
            ASSETS.forEach((asset, index) => {
                let count = game.assets[index];
                let price = Math.floor(asset.cost * Math.pow(1.15, count));

                let el = document.createElement('div');
                el.className = "asset-card locked";
                el.id = "asset-" + index;
                el.onclick = () => buyAsset(index);

                el.innerHTML = `
                    <div class="asset-count">${count}</div>
                    <div class="asset-icon">${asset.icon}</div>
                    <div>
                        <div class="asset-name">${asset.name}</div>
                        <div class="asset-profit">+$${asset.earn}/s</div>
                    </div>
                    <div class="asset-cost">$${price.toLocaleString()}</div>
                `;
                assetsCont.appendChild(el);
            });
            updateAssetsState();
        }

        function updateAssetsState() {
            ASSETS.forEach((asset, index) => {
                let count = game.assets[index];
                let price = Math.floor(asset.cost * Math.pow(1.15, count));
                let el = document.getElementById("asset-" + index);

                if (game.balance >= price) {
                    el.className = "asset-card can-buy";
                } else {
                    el.className = "asset-card locked";
                }
            });
        }

        function calcPassive() {
            let total = 0;
            ASSETS.forEach((a, i) => {
                total += a.earn * game.assets[i];
            });
            return total;
        }

        function spawnFloat(x, y, val) {
            const el = document.createElement('div');
            el.className = 'float-text';
            el.innerText = "+$" + val;
            el.style.left = (x - 20) + 'px';
            el.style.top = (y - 80) + 'px'; // –ß—É—Ç—å –≤—ã—à–µ –∫–ª–∏–∫–∞
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 800);
        }

        // --- –°–û–•–†–ê–ù–ï–ù–ò–ï ---
        function saveGame() {
            localStorage.setItem('empire_save', JSON.stringify(game));
        }

        function loadGame() {
            let saved = localStorage.getItem('empire_save');
            if (saved) {
                game = JSON.parse(saved);
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –º–∞—Å—Å–∏–≤–∞ –∞—Å—Å–µ—Ç–æ–≤
                if(!game.assets) game.assets = [0,0,0,0,0];
            }
        }
    </script>
</body>
</html>